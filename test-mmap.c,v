head	1.6;
access;
symbols
	VERSION_1_13_3:1.5
	VERSION_1_13_2:1.5
	VERSION_1_12_4:1.5
	VERSION_1_13_1:1.5
	VERSION_1_12_3:1.3
	VERSION_1_12_2:1.3
	VERSION_1_12:1.5.0.2
	VERSION_1_12_1:1.2
	VERSION_1_12_0:1.2
	VERSION_1_11_7:1.2
	VERSION_1_11_6:1.2
	VERSION_1_11_5:1.2
	VERSION_1_11_4:1.2
	VERSION_1_11_3:1.2;
locks; strict;
comment	@ * @;


1.6
date	2015.10.06.18.32.20;	author schwarze;	state Exp;
branches;
next	1.5;

1.5
date	2014.08.05.16.00.37;	author schwarze;	state Exp;
branches;
next	1.4;

1.4
date	2014.01.04.01.11.00;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.02.03.52.21;	author schwarze;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.26.21.02.05;	author kristaps;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.26.20.36.21;	author kristaps;	state Exp;
branches;
next	;


desc
@@


1.6
log
@modernize style: "return" is not a function
@
text
@#include <sys/types.h>
#include <sys/mman.h>
#include <stddef.h>

int
main(void)
{
	return mmap(NULL, 1, PROT_READ, MAP_SHARED, -1, 0) != MAP_FAILED;
}
@


1.5
log
@NULL is in <stddef.h>; found on Linux
@
text
@d8 1
a8 1
	return(MAP_FAILED != mmap(NULL, 1, PROT_READ, MAP_SHARED, -1, 0));
@


1.4
log
@Clean up feature tests:
* Split the configure steering script out of the Makefile.
* Let the configure step depend on the test sources.
* Clean up the test programs such that they can be run.
@
text
@d3 1
@


1.3
log
@Sync to OpenBSD, no functional change:
* Add the missing mparse_parse_buffer prototype.
* Drop the useless MAP_FILE constant: It's not specified in POSIX,
  so it's not required, it's the default anyway, and it's 0 anyway.
@
text
@d5 1
a5 1
main(int argc, char **argv)
d7 1
a7 3

	mmap(0, 0, PROT_READ, MAP_SHARED, -1, 0);
	return 0;
@


1.2
log
@OpenBSD needs sys/types for mmap... oops...
@
text
@d8 1
a8 1
	mmap(0, 0, PROT_READ, MAP_FILE|MAP_SHARED, -1, 0);
@


1.1
log
@At least in theory, this patch lets us compile on Windows (which does
not have mmap(), from what I can tell).
@
text
@d1 1
@
