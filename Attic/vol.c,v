head	1.12;
access;
symbols
	VERSION_1_12_4:1.11
	VERSION_1_13_1:1.10
	VERSION_1_12_3:1.9
	VERSION_1_12_2:1.9
	VERSION_1_12:1.11.0.2
	VERSION_1_12_1:1.9
	VERSION_1_12_0:1.9
	VERSION_1_11_7:1.9
	VERSION_1_11_6:1.9
	VERSION_1_11_5:1.9
	VERSION_1_11_4:1.9
	VERSION_1_11_3:1.9
	VERSION_1_11_2:1.9
	VERSION_1_11_1:1.9
	VERSION_1_10_10:1.8
	VERSION_1_10_9:1.8
	VERSION_1_10_8:1.8
	VERSION_1_10_7:1.8
	VERSION_1_10_6:1.8
	VERSION_1_10_5:1.8
	VERSION_1_10_5_PREPDF:1.8
	VERSION_1_10_4:1.8
	VERSION_1_10_3:1.8
	VERSION_1_10_2:1.8
	VERSION_1_10_1:1.7
	VERSION_1_9_24:1.6
	VERSION_1_9_25:1.6
	VERSION_1_9_23:1.6
	VERSION_1_9_22:1.6
	VERSION_1_9_21:1.6
	VERSION_1_9_20:1.6
	VERSION_1_9_19:1.6
	VERSION_1_9_18:1.6
	VERSION_1_9_17:1.6
	VERSION_1_9_16:1.6
	VERSION_1_9_15:1.6
	VERSION_1_9_15-pre2:1.6
	VERSION_1_9_15-pre1:1.5
	VERSION_1_9_14:1.5
	VERSION_1_9_13:1.5
	VERSION_1_9_12:1.5
	VERSION_1_9_11:1.4
	VERSION_1_9_10:1.4
	VERSION_1_9_9:1.4
	VERSION_1_9_8:1.4
	VERSION_1_9_7:1.4
	VERSION_1_9_6:1.4
	VERSION_1_9_5:1.4
	VERSION_1_9_2:1.4
	VERSION_1_9_1:1.4
	VERSION_1_9_0:1.4
	VERSION_1_8_5:1.4
	VERSION_1_8_4:1.4
	VERSION_1_8_3:1.4
	VERSION_1_8_2:1.4
	VERSION_1_8_1:1.4
	VERSION_1_8_0:1.4
	VERSION_1_7_24:1.4
	VERSION_1_7_23:1.4
	VERSION_1_7_22:1.4
	VERSION_1_7_21:1.4
	VERSION_1_7_20:1.4
	VERSION_1_7_19:1.4
	VERSION_1_7_17:1.4
	VERSION_1_7_16:1.4
	VERSION_1_7_15:1.4
	VERSION_1_7_14:1.4
	VERSION_1_7_13:1.3
	VERSION_1_7_12:1.2
	OPENBSD_CHECKIN:1.2
	VERSION_1_7_10:1.2
	VERSION_1_7_5:1.2
	VERSION_1_6_5:1.1
	VERSION_1_6_2:1.1
	VERSION_1_5_3:1.1;
locks; strict;
comment	@ * @;


1.12
date	2014.11.28.18.36.35;	author schwarze;	state dead;
branches;
next	1.11;

1.11
date	2014.08.10.23.54.41;	author schwarze;	state Exp;
branches;
next	1.10;

1.10
date	2014.03.23.11.25.26;	author schwarze;	state Exp;
branches;
next	1.9;

1.9
date	2011.03.22.14.33.05;	author kristaps;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.19.20.46.28;	author kristaps;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.17.22.11.42;	author kristaps;	state Exp;
branches;
next	1.6;

1.6
date	2010.01.01.17.14.31;	author kristaps;	state Exp;
branches;
next	1.5;

1.5
date	2009.10.26.17.05.45;	author kristaps;	state Exp;
branches;
next	1.4;

1.4
date	2009.06.10.20.18.44;	author kristaps;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.12.19.45.26;	author kristaps;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.23.14.22.11;	author kristaps;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.16.22.19.19;	author kristaps;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Retire support for CSRG supplementary document titles.  These are
long obsolete and were never written in mdoc(7) in the first place.
Removes 100 lines from source files.
@
text
@@


1.11
log
@Get rid of HAVE_CONFIG_H, it is always defined; idea from libnbcompat.
Include <sys/types.h> where needed, it does not belong in config.h.
Remove <stdio.h> from config.h; if it is missing somewhere, it should
be added, but i cannot find a *.c file where it is missing.
@
text
@a0 36
/*	$Id: vol.c,v 1.10 2014/03/23 11:25:26 schwarze Exp $ */
/*
 * Copyright (c) 2009 Kristaps Dzonsons <kristaps@@bsd.lv>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */
#include "config.h"

#include <sys/types.h>

#include <string.h>

#include "mdoc.h"
#include "libmdoc.h"

#define LINE(x, y) \
	if (0 == strcmp(p, x)) return(y);

const char *
mdoc_a2vol(const char *p)
{

#include "vol.in"

	return(NULL);
}
@


1.10
log
@The files mandoc.c and mandoc.h contained both specialised low-level
functions used for multiple languages (mdoc, man, roff), for example
mandoc_escape(), mandoc_getarg(), mandoc_eos(), and generic auxiliary
functions.  Split the auxiliaries out into their own file and header.
While here, do some #include cleanup.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.9 2011/03/22 14:33:05 kristaps Exp $ */
a16 1
#ifdef HAVE_CONFIG_H
d18 2
a19 1
#endif
@


1.9
log
@libmdoc.h and libman.h were including mdoc.h and man.h, respectively.
Don't have them do that (includes in header files = faugh), and have
individual files directly include these files.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.8 2010/06/19 20:46:28 kristaps Exp $ */
a20 1
#include <stdlib.h>
a21 1
#include <time.h>
a23 1
#include "mandoc.h"
@


1.8
log
@Churn as I finish email address migration kth.se -> bsd.lv.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.7 2010/05/17 22:11:42 kristaps Exp $ */
d25 1
@


1.7
log
@Enable the unified error/warning enumeration in mandoc.h that's
stringified in main.c.

Allow `An' to handle an argument and child (with a warning).

Allow `Rv' and `Ex' to work without a prior `Nm' as groff does (with a
warning).

Allow inconsistent column syntax to only raise a warning.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.6 2010/01/01 17:14:31 kristaps Exp $ */
d3 1
a3 1
 * Copyright (c) 2009 Kristaps Dzonsons <kristaps@@kth.se>
@


1.6
log
@Big check-in of compatibility layer.  This should work on most major architectures. Thanks to Joerg Sonnenberger.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.5 2009/10/26 17:05:45 kristaps Exp $ */
d25 1
@


1.5
log
@Added time.h to various files for FreeBSD compilation (thanks Ulrich Sporlein).
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.4 2009/06/10 20:18:44 kristaps Exp $ */
d17 4
@


1.4
log
@Fixed license email address.
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.3 2009/04/12 19:45:26 kristaps Exp $ */
d19 1
@


1.3
log
@Using proper license template (const).
@
text
@d1 1
a1 1
/*	$Id: vol.c,v 1.2 2009/03/23 14:22:11 kristaps Exp $ */
d3 1
a3 1
 * Copyright (c) 2009 Kristaps Dzonsons <kristaps@@openbsd.org>
@


1.2
log
@First addition of -man macro support.
Abstraction of mdoc.
@
text
@d1 1
a1 1
/* $Id: vol.c,v 1.1 2009/03/16 22:19:19 kristaps Exp $ */
d6 2
a7 3
 * purpose with or without fee is hereby granted, provided that the
 * above copyright notice and this permission notice appear in all
 * copies.
d9 7
a15 8
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
 * WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
 * AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
 * DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
 * PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
 * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
@


1.1
log
@Fixed mdoc_phrase escape handling.
Added MDOC_IGNDELIM (Pf, soon Li, etc.).
macro_constant_delimited ignargs -> argv.c parsing.
Renamed macro functions to correspond to ontologies.
`Fo' and `St' made callable (compat documented).
strings.sh deprecated (directly using CPP).
Abstracted ASCII translation into ascii.{c,in}.
ASCII table uses a self-reordering chained hashtable.
Removed old regressions.
@
text
@d1 1
a1 1
/* $Id: argv.c,v 1.51 2009/03/14 05:21:58 kristaps Exp $ */
d22 1
a22 1
#include "private.h"
@
